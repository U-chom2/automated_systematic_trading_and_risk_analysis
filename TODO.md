# 📋 TODO リスト - AIデイトレードシステム
作成日時: 2025-08-26 22:30

## 🎯 プロジェクト概要
東証グロース市場を対象とした、カタリスト駆動型リアルタイム取引システムの開発

## ✅ 完了済みタスク
1. ✅ **ニューラルネットワーク（リスクモデル）の実装**
   - PyTorchベースのNNモデル構築
   - 訓練データ生成（米国株200サンプル）
   - モデル訓練（検証損失: 0.00180）
   - srcコードへの統合完了

2. ✅ **ターゲット企業リスト管理**
   - Excelファイル読み込み機能
   - 日本株シンボル処理（.T suffix追加）

3. ✅ **統合スコアリング機能（部分的）**
   - IntegratedScorerクラスの実装
   - 基本的なスコアリング機能

## 🚀 優先度高：コア機能実装

### 1. **16:15定時実行スケジューラー** 🔴
- **要件**: 毎日16:15に自動実行（FR-02, NFR-01）
- **実装内容**:
  - APSchedulerまたはcron連携
  - 東証営業日判定
  - 30分以内の処理完了保証

### 2. **証券会社APIモック作成** 🔴
- **要件**: ペーパートレード環境構築（FR-07）
- **実装内容**:
  - 注文執行のシミュレーション
  - OCO注文のモック実装
  - 約定通知のシミュレーション

### 3. **ペーパートレード環境** 🔴
- **要件**: 実資金を使わないテスト環境（Step 4）
- **実装内容**:
  - 仮想資金管理
  - 取引履歴記録
  - パフォーマンス測定

## 📊 分析機能の強化

### 4. **IR情報収集機能の強化** 🟠
- **要件**: TDnet、各社HPからの自動収集（FR-02）
- **実装内容**:
  - TDnetScraperの改良
  - S級キーワード検出（「上方修正」「業務提携」）
  - 重要度スコアリング（Max 50点）

### 5. **SNS/掲示板センチメント分析** 🟠
- **要件**: 当日投稿のセンチメント分析（FR-03）
- **実装内容**:
  - X (旧Twitter) API連携
  - Yahoo!ファイナンス掲示板スクレイピング
  - BERT日本語モデルによる感情分析
  - 投稿数の異常検知（前週比較）

### 6. **総合スコアリング機能の完成** 🟠
- **要件**: 80点閾値での自動判定（FR-04）
- **現状**: 基本実装済み、詳細調整必要
- **実装内容**:
  - カタリスト重要度（Max 50点）
  - センチメントスコア（Max 30点）
  - 市場環境スコア（Max 20点）
  - RSI > 75 または 移動平均乖離率 > +25% でフィルター

## 🛡️ リスク管理機能

### 7. **OCO注文機能の実装** 🟡
- **要件**: 利益確定・損切りの自動設定（FR-07）
- **現状**: OrderManagerに基本実装あり
- **実装内容**:
  - 証券会社API対応
  - 注文状態管理
  - エラーハンドリング

### 8. **再エントリー禁止ルール** 🟡
- **要件**: 同一銘柄3取引時間制限（5.3節）
- **現状**: OrderManagerに基本実装あり
- **実装内容**:
  - タイムスタンプ管理
  - 制限解除の自動化

## 📈 監視・運用機能

### 9. **ダッシュボード・監視機能** 🟢
- **要件**: システム稼働状況の可視化（FR-08）
- **実装内容**:
  - Web UIの開発（Flask/FastAPI）
  - リアルタイムチャート
  - ポジション状況表示
  - 損益グラフ

### 10. **データベース環境構築** 🟢
- **要件**: ログ保存とキャッシュ（4.2節）
- **実装内容**:
  - PostgreSQL設定
  - Redisキャッシュ
  - データモデル設計

## 🔧 インフラ・環境整備

### 11. **Docker環境の構築** 🟢
- **要件**: コンテナ化によるデプロイ（4.2節）
- **実装内容**:
  - Dockerfile作成
  - docker-compose設定
  - 環境変数管理

### 12. **バックテスト環境** 🟢
- **要件**: 過去データでの検証（Step 2）
- **実装内容**:
  - ヒストリカルデータ収集
  - バックテストフレームワーク
  - パフォーマンス評価

## 🔗 外部連携

### 13. **実証券会社API連携** 🔵
- **要件**: 実際の取引執行（Step 5）
- **実装内容**:
  - API認証実装
  - レート制限対応
  - エラーリトライ

### 14. **障害時通知システム** 🔵
- **要件**: メール通知（NFR-02）
- **実装内容**:
  - SMTPメール送信
  - LINE通知（オプション）
  - エラーレベル別通知

### 15. **祝日・年末年始対応** 🔵
- **要件**: 取引所休場日の自動判定（6.2節）
- **実装内容**:
  - 営業日カレンダー
  - スケジューラー連携

## 📊 実装優先順位

### Phase 1 - 基盤構築（今すぐ着手）
1. 16:15定時実行スケジューラー
2. 証券会社APIモック
3. ペーパートレード環境

### Phase 2 - 分析強化（1週間以内）
4. IR情報収集機能の強化
5. SNS/掲示板センチメント分析
6. 総合スコアリング機能の完成

### Phase 3 - リスク管理（2週間以内）
7. OCO注文機能
8. 再エントリー禁止ルール

### Phase 4 - 運用準備（3週間以内）
9. ダッシュボード開発
10. データベース環境
11. Docker環境
12. バックテスト環境

### Phase 5 - 本番移行（1ヶ月以内）
13. 実証券会社API連携
14. 障害時通知システム
15. 祝日対応

## 🎯 マイルストーン
- **Week 1**: ペーパートレード環境で自動取引テスト開始
- **Week 2**: 全分析機能統合、80点閾値での自動判定確認
- **Week 3**: ダッシュボード完成、システム監視開始
- **Week 4**: バックテスト完了、パラメータ最適化
- **Month 2**: 実証券会社API連携、少額実運用開始

## 📝 注意事項
- NFR-01: 16:15から30分以内の処理完了が必須
- NFR-02: 99.9%以上の稼働率維持
- 全機能のテストカバレッジ80%以上を維持
- TDD（テスト駆動開発）の継続

## 🔍 現在の実装状況サマリー
- ✅ **完了**: リスクモデル（NN）、基本的な取引実行機能
- 🚧 **部分実装**: スコアリング、OCO注文、再エントリー制限
- ❌ **未実装**: 定時実行、センチメント分析、ダッシュボード、本番API連携